{% extends 'partials/base.html' %}

{% load static %}

{% block title %} Tree {% endblock %}

{% block content %}
<head>
<h1>Tree</h1>
</head>
<body>
	<div class="tree-image">
		<svg alt="Decision Tree" id="tree-image" viewBox="0 0 1167 757" xmlns="http://www.w3.org/2000/svg">
            <image xlink:href="{% static 'img/decision_tree.svg' %}" width="100%" height="100%" />
        </svg>
	</div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

<script>
//     $(document).ready(function() {
//     // Get all the nodes in the decision tree
//     var nodes = $("g.node");

//     // Loop through each node
//     nodes.each(function() {
//         // Get the attributes of the current node
//         var attrs = $(this).find("title").text().split(",");
        
//         // Check if the current node satisfies any of the rules
//         if (attrs.includes("hypotonic urine > 1.006") && attrs.includes("polyuria > 302.0") && attrs.includes("thirst <= 0.5")) {
//             // Highlight the path to the "di" class if the data matches
//             if ({{ data.hypotonic_urine }} > 1.006 && {{ data.polyuria }} > 302.0 && {{ data.thirst }} <= 0.5) {
//                 $(this).parentsUntil(".tree-image").css("stroke", "red");
//             }
//         } else if (attrs.includes("hypotonic urine <= 1.006") && attrs.includes("thirst > 0.5")) {
//             // Highlight the path to the "osm_diur" class if the data matches
//             if ({{ data.hypotonic_urine }} <= 1.006 && {{ data.thirst }} > 0.5) {
//                 $(this).parentsUntil(".tree-image").css("stroke", "blue");
//             }
//         } else if (attrs.includes("hypotonic urine > 1.006") && attrs.includes("polyuria <= 302.0")) {
//             // Highlight the path to the "adi" class if the data matches
//             if ({{ data.hypotonic_urine }} > 1.006 && {{ data.polyuria }} <= 302.0) {
//                 $(this).parentsUntil(".tree-image").css("stroke", "green");
//             }
//         } else if (attrs.includes("hypotonic urine <= 1.006") && attrs.includes("thirst <= 0.5")) {
//             // Highlight the path to the "fluid_ov" class if the data matches
//             if ({{ data.hypotonic_urine }} <= 1.006 && {{ data.thirst }} <= 0.5) {
//                 $(this).parentsUntil(".tree-image").css("stroke", "orange");
//             }
//         } else if (attrs.includes("hypotonic urine > 1.006") && attrs.includes("polyuria > 302.0") && attrs.includes("thirst > 0.5")) {
//             // Highlight the path to the "healthy" class if the
//             if ({{ data.hypotonic_urine }} > 1.006 && {{ data.polyuria }} > 302.0 && {{ data.thirst }} > 0.5) {
//                 $(this).parentsUntil(".tree-image").css("stroke", "purple");
// }
// }
// });
// });


</script>

</body>
</html>
<style>
    .tree-image {
			display: flex;
            flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			height: 80vh;
			max-width: 100%;
			margin: auto;
		}
</style>
{% endblock %}